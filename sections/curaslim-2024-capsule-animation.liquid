<section>
  <div class="container">
    {% render 'title', section_id: section.id, title: '<span>One Capsule,</span> Triple Action', title_tag: 'h2', subtitle: '100% Natural, No Shots, No Chemicals', span_color: section.settings.title_highlight_color, padding_bottom: '30', padding_top: 0 %}

    <div class="capsule-animation mt-8">
      <div class="pill flex justify-center">
        <img class="pill-half left m-0" src="https://cdn.shopify.com/s/files/1/0452/2459/1511/files/pill-half.png?v=1723722706" alt="Curaslim 2024 Capsule Animation Pill Half">
        <img class="pill-half right m-0 scale-x-[-1]" src="https://cdn.shopify.com/s/files/1/0452/2459/1511/files/pill-half.png?v=1723722706" alt="Curaslim 2024 Capsule Animation Pill Half">
      </div>
    </div>
  </div>
</section>

<style>
  .capsule-animation {
    position: relative;
    overflow: hidden;
  }

  .pill-half.left {
    animation: openPillLeft linear both;
    animation-timeline: view(block);
    animation-range: cover 0% cover 100%;
  }

  .pill-half.right {
    animation: openPillRight linear both;
    animation-timeline: view(block);
    animation-range: cover 0% cover 100%;
  }

  @keyframes openPillLeft {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(180deg);
    }
  }

  @keyframes openPillRight {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(-180deg);
    }
  }
</style>

{% schema %}
  {
    "name": "Capsule Animation",
    "settings": [],
    "presets": [
      {
        "category": "Page",
        "name": "Capsule Animation"
      }
    ]
  }
{% endschema %}
