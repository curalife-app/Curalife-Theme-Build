<!-- Shopify Liquid Code for Modern Cart Component -->
<script src="{{ 'cart.js' | asset_url }}" defer="defer"></script>

<style>
  .cart-container {
    max-width: 1200px;
    margin: 2rem auto;
    padding: 0 1.5rem;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  .cart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid #f3f4f6;
  }

  .cart-header h1 {
    font-size: 1.75rem;
    font-weight: 600;
    color: #1a1a1a;
  }

  .continue-shopping-link {
    color: #4f46e5;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.2s;
  }

  .continue-shopping-link:hover {
    color: #4338ca;
  }

  .cart-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0 1rem;
  }

  .cart-table th {
    font-weight: 500;
    color: #6b7280;
    text-transform: uppercase;
    font-size: 0.875rem;
    letter-spacing: 0.05em;
    padding: 0.75rem;
    text-align: left;
  }

  .cart-table td {
    padding: 1rem 0.75rem;
    background: #fff;
    vertical-align: middle;
  }

  .cart-table tr {
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    transition: transform 0.2s;
  }

  .cart-table tr:hover {
    transform: translateY(-2px);
  }

  .product-image img {
    width: 70px;
    height: 70px;
    object-fit: cover;
    border-radius: 8px;
  }

  .product-title {
    color: #1a1a1a;
    text-decoration: none;
    font-weight: 500;
    display: block;
    margin-bottom: 0.5rem;
  }

  .product-options {
    color: #6b7280;
    font-size: 0.875rem;
    margin: 0;
    padding: 0;
    list-style: none;
  }

  .product-quantity {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .product-quantity input {
    width: 60px;
    padding: 0.5rem;
    border: 1px solid #e5e7eb;
    border-radius: 6px;
    text-align: center;
  }

  .remove-item {
    color: #ef4444;
    text-decoration: none;
    font-size: 1.25rem;
    opacity: 0.8;
    transition: opacity 0.2s;
  }

  .remove-item:hover {
    opacity: 1;
  }

  .cart-summary {
    margin: 2rem 0;
    padding: 1.5rem;
    background: #f9fafb;
    border-radius: 12px;
    max-width: 400px;
    margin-left: auto;
  }

  .cart-summary p {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.75rem;
    color: #4b5563;
  }

  .cart-summary .subtotal {
    font-weight: 600;
    color: #1a1a1a;
    font-size: 1.125rem;
  }

  .cart-summary .savings {
    color: #059669;
  }

  .checkout-button {
    width: 100%;
    padding: 0.875rem;
    background: #4f46e5;
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 500;
    text-align: center;
    text-decoration: none;
    transition: all 0.2s;
    display: block;
    margin-top: 1rem;
  }

  .checkout-button:hover {
    background: #4338ca;
    transform: translateY(-1px);
  }

  .cart-empty {
    text-align: center;
    padding: 3rem 1rem;
  }

  .cart-empty h2 {
    color: #1a1a1a;
    margin-bottom: 1rem;
  }

  .cart-empty .button {
    display: inline-block;
    padding: 0.75rem 1.5rem;
    background: #4f46e5;
    color: white;
    text-decoration: none;
    border-radius: 8px;
    transition: all 0.2s;
  }

  .cart-empty .button:hover {
    background: #4338ca;
    transform: translateY(-1px);
  }

  @media (max-width: 768px) {
    .cart-table thead { display: none; }
    .cart-table td { display: grid; padding: 0.5rem; text-align: right; }
    .cart-table td::before {
      content: attr(data-label);
      font-weight: 500;
      color: #6b7280;
      float: left;
    }
    .product-quantity { justify-content: flex-end; }
    .cart-summary { margin: 1.5rem 0 0; }
  }
</style>

<div class="cart-container">
  <cart-items class="container{% if cart == empty %} is-empty{% else %} section-{{ section.id }}-padding{% endif %}">
    <div class="cart-header">
      <h1>{{ 'sections.cart.title' | t }}</h1>
      <a href="{{ routes.all_products_collection_url }}" class="continue-shopping-link">{{ 'general.continue_shopping' | t }}</a>
    </div>

    {% if cart == empty %}
      <div class="cart-empty">
        <h2>{{ 'sections.cart.empty' | t }}</h2>
        <a href="{{ routes.all_products_collection_url }}" class="button">{{ 'general.continue_shopping' | t }}</a>
      </div>
    {% else %}
      <form action="{{ routes.cart_url }}" method="post" id="cart">
        <table class="cart-table">
          <thead>
            <tr>
              <th colspan="2">{{ 'sections.cart.headings.product' | t }}</th>
              <th>{{ 'sections.cart.headings.price' | t }}</th>
              <th>{{ 'sections.cart.headings.quantity' | t }}</th>
              <th>{{ 'sections.cart.headings.total' | t }}</th>
            </tr>
          </thead>
          <tbody>
            {% for item in cart.items %}
              <tr>
                <td class="product-image" data-label="{{ 'sections.cart.headings.product' | t }}">
                  {% if item.image %}
                    <a href="{{ item.url }}">
                      <img src="{{ item.image | image_url: width: 80 }}" alt="{{ item.image.alt | escape }}">
                    </a>
                  {% endif %}
                </td>
                <td class="product-details">
                  <a href="{{ item.url }}" class="product-title">{{ item.product.title | escape }}</a>
                  {% if item.options_with_values.size > 0 %}
                    <ul class="product-options">
                      {% for option in item.options_with_values %}
                        <li>{{ option.name }}: {{ option.value }}</li>
                      {% endfor %}
                    </ul>
                  {% endif %}
                </td>
                <td class="product-price" data-label="{{ 'sections.cart.headings.price' | t }}">
                  {% if item.original_price != item.final_price %}
                    <span class="original-price">{{ item.original_price | money }}</span>
                    <span class="final-price">{{ item.final_price | money }}</span>
                  {% else %}
                    {{ item.final_price | money }}
                  {% endif %}
                </td>
                <td class="product-quantity" data-label="{{ 'sections.cart.headings.quantity' | t }}">
                  <input type="number" name="updates[]" value="{{ item.quantity }}" min="1" aria-label="{{ 'products.product.quantity.input_label' | t: product: item.product.title | escape }}">
                  <a href="{{ item.url_to_remove }}" class="remove-item" aria-label="{{ 'sections.cart.remove_title' | t: title: item.title }}">&times;</a>
                </td>
                <td class="product-total" data-label="{{ 'sections.cart.headings.total' | t }}">
                  {{ item.final_line_price | money }}
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>

        <div class="cart-summary">
          <p class="subtotal">
            <span>{{ 'cart.general.subtotal' | t }}</span>
            <span>{{ cart.total_price | money }}</span>
          </p>
          {% if cart.total_discount > 0 %}
            <p class="savings">
              <span>{{ 'cart.general.savings' | t }}</span>
              <span>-{{ cart.total_discount | money }}</span>
            </p>
          {% endif %}
          <a href="{{ routes.checkout_url }}" class="checkout-button">{{ 'cart.general.checkout' | t }}</a>
        </div>
      </form>
    {% endif %}
  </cart-items>
</div>

{% schema %}
{
  "name": "Cart Items",
  "settings": []
}
{% endschema %}