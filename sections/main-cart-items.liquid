<!-- Shopify Liquid Code for Modern Cart Component -->
<script src="{{ 'cart.js' | asset_url }}" defer="defer"></script>

<style>
	:root {
		--color-primary: #3b82f6;
		--color-primary-hover: #2563eb;
		--color-primary-light: #eff6ff;
		--color-primary-lighter: #dbeafe;
		--color-background: #ffffff;
		--color-surface: #f8fafc;
		--color-text: #0f172a;
		--color-text-secondary: #64748b;
		--color-error: #ef4444;
		--color-error-light: #fee2e2;
		--color-success: #10b981;
		--color-border: #e2e8f0;
	}

	.cart-container {
		max-width: 1400px;
		margin: 3rem auto;
		padding: 0 2rem;
		font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
		background: var(--color-background);
		border-radius: 16px;
	}

	.cart-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 2.5rem;
		padding: 2rem;
		background: var(--color-surface);
		border-radius: 16px 16px 0 0;
	}

	.cart-header h1 {
		font-size: 2rem;
		font-weight: 700;
		color: var(--color-text);
		letter-spacing: -0.02em;
	}

	.continue-shopping-link {
		color: var(--color-primary);
		text-decoration: none;
		font-weight: 600;
		padding: 0.75rem 1.5rem;
		background: var(--color-primary-light);
		border-radius: 8px;
		transition: all 0.3s ease;
	}

	.continue-shopping-link:hover {
		background: var(--color-primary-lighter);
	}

	.cart-table {
		width: 100%;
		border-collapse: separate;
		border-spacing: 0 1.25rem;
		padding: 0 2rem;
	}

	.cart-table th {
		font-weight: 600;
		color: var(--color-text-secondary);
		text-transform: uppercase;
		font-size: 0.875rem;
		letter-spacing: 0.1em;
		padding: 1rem;
		text-align: left;
	}

	.cart-table td {
		padding: 1.5rem 1rem;
		background: var(--color-surface);
		border-radius: 12px;
		vertical-align: middle;
	}

	.cart-table tr {
		transition: all 0.3s ease;
	}

	.product-image img {
		width: 100px;
		height: 100px;
		object-fit: cover;
		border-radius: 12px;
	}

	.product-title {
		color: var(--color-text);
		text-decoration: none;
		font-weight: 600;
		font-size: 1.1rem;
		display: block;
		margin-bottom: 0.75rem;
		transition: color 0.2s ease;
	}

	.product-title:hover {
		color: var(--color-primary);
	}

	.product-options {
		color: var(--color-text-secondary);
		font-size: 0.9rem;
		margin: 0;
		padding: 0;
		list-style: none;
	}

	.product-quantity {
		display: flex;
		align-items: center;
		gap: 1rem;
	}

	.product-quantity input {
		width: 80px;
		padding: 0.75rem;
		border: 2px solid var(--color-border);
		border-radius: 8px;
		text-align: center;
		font-weight: 600;
		transition: border-color 0.2s ease;
	}

	.product-quantity input:focus {
		border-color: var(--color-primary);
		outline: none;
	}

	.remove-item {
		color: var(--color-error);
		text-decoration: none;
		font-size: 1.5rem;
		opacity: 0.8;
		transition: all 0.2s ease;
		padding: 0.5rem;
		border-radius: 50%;
	}

	.remove-item:hover {
		opacity: 1;
		background: var(--color-error-light);
	}

	.cart-summary {
		margin: 3rem 2rem;
		padding: 2rem;
		background: var(--color-surface);
		border-radius: 16px;
		max-width: 450px;
		margin-left: auto;
	}

	.cart-summary p {
		display: flex;
		justify-content: space-between;
		margin-bottom: 1rem;
		color: var(--color-text-secondary);
		font-size: 1.1rem;
	}

	.cart-summary .subtotal {
		font-weight: 700;
		color: var(--color-text);
		font-size: 1.25rem;
		border-top: 2px solid var(--color-border);
		padding-top: 1rem;
		margin-top: 1rem;
	}

	.cart-summary .savings {
		color: var(--color-success);
		font-weight: 600;
	}

	.checkout-button {
		width: 100%;
		padding: 1rem;
		background: var(--color-primary);
		color: white;
		border: none;
		border-radius: 12px;
		font-weight: 600;
		font-size: 1.1rem;
		text-align: center;
		text-decoration: none;
		transition: all 0.3s ease;
		display: block;
		margin-top: 1.5rem;
		box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
	}

	.checkout-button:hover {
		background: var(--color-primary-hover);
		box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
	}

	.cart-empty {
		text-align: center;
		padding: 4rem 2rem;
		background: var(--color-surface);
		border-radius: 16px;
		margin: 2rem 0;
	}

	.cart-empty h2 {
		color: var(--color-text);
		margin-bottom: 1.5rem;
		font-size: 1.75rem;
		font-weight: 700;
	}

	.cart-empty .button {
		display: inline-block;
		padding: 1rem 2rem;
		background: var(--color-primary);
		color: white;
		text-decoration: none;
		border-radius: 12px;
		font-weight: 600;
		transition: all 0.3s ease;
		box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
	}

	.cart-empty .button:hover {
		background: var(--color-primary-hover);
		box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
	}

	@media (max-width: 768px) {
		.cart-container { padding: 0 1rem; margin: 2rem auto; }
		.cart-header { padding: 1.5rem; }
		.cart-table thead { display: none; }
		.cart-table td {
			display: grid;
			padding: 0.75rem;
			text-align: right;
			background: transparent;
		}
		.cart-table tr {
			display: block;
			background: var(--color-surface);
			margin-bottom: 1.5rem;
			border-radius: 12px;
			padding: 1rem;
		}
		.cart-table td::before {
			content: attr(data-label);
			font-weight: 600;
			color: var(--color-text-secondary);
			float: left;
		}
		.product-quantity { justify-content: flex-end; }
		.cart-summary { margin: 2rem 0; padding: 1.5rem; }
	}
</style>

<div class="cart-container">
  <cart-items class="container{% if cart == empty %} is-empty{% else %} section-{{ section.id }}-padding{% endif %}">
    <div class="cart-header">
      <h1>Shopping Cart</h1>
      <a href="{{ routes.all_products_collection_url }}" class="continue-shopping-link">Continue Shopping</a>
    </div>

    {% if cart == empty %}
      <div class="cart-empty">
        <h2>Your cart is currently empty.</h2>
        <a href="{{ routes.all_products_collection_url }}" class="button">Continue Shopping</a>
      </div>
    {% else %}
      <form action="{{ routes.cart_url }}" method="post" id="cart">
        <table class="cart-table">
          <thead>
            <tr>
              <th colspan="2">Product</th>
              <th>Price</th>
              <th>Quantity</th>
              <th>Total</th>
            </tr>
          </thead>
          <tbody>
            {% for item in cart.items %}
              <tr>
                <td class="product-image" data-label="Product">
                  {% if item.image %}
                    <a href="{{ item.url }}">
                      <img src="{{ item.image | image_url: width: 80 }}" alt="{{ item.image.alt | escape }}">
                    </a>
                  {% endif %}
                </td>
                <td class="product-details">
                  <a href="{{ item.url }}" class="product-title">{{ item.product.title | escape }}</a>
                  {% if item.options_with_values.size > 0 %}
                    <ul class="product-options">
                      {% for option in item.options_with_values %}
                        <li>{{ option.name }}: {{ option.value }}</li>
                      {% endfor %}
                    </ul>
                  {% endif %}
                </td>
                <td class="product-price" data-label="Price">
                  {% if item.original_price != item.final_price %}
                    <span class="original-price">{{ item.original_price | money }}</span>
                    <span class="final-price">{{ item.final_price | money }}</span>
                  {% else %}
                    {{ item.final_price | money }}
                  {% endif %}
                </td>
                <td class="product-quantity" data-label="Quantity">
                  <input type="number" name="updates[]" value="{{ item.quantity }}" min="1" aria-label="Quantity for {{ item.product.title | escape }}">
                  <a href="{{ item.url_to_remove }}" class="remove-item" aria-label="Remove {{ item.title }}">&times;</a>
                </td>
                <td class="product-total" data-label="Total">
                  {{ item.final_line_price | money }}
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>

        <div class="cart-summary">
          <p class="subtotal">
            <span>Subtotal</span>
            <span>{{ cart.total_price | money }}</span>
          </p>
          {% if cart.total_discount > 0 %}
            <p class="savings">
              <span>Savings</span>
              <span>-{{ cart.total_discount | money }}</span>
            </p>
          {% endif %}
          <a href="{{ routes.checkout_url }}" class="checkout-button">Checkout</a>
        </div>
      </form>
    {% endif %}
  </cart-items>
</div>

{% schema %}
{
  "name": "Cart Items",
  "settings": []
}
{% endschema %}