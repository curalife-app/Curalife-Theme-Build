<script>
  document.addEventListener('DOMContentLoaded', function() {
    let queryString = window.location.search;
    let currentHostname = window.location.hostname;

    document.querySelectorAll("[href]").forEach(link => {
      let currentLink = link.getAttribute('href');

      if (currentLink.startsWith("/") || currentLink.startsWith(".") ||
        (currentLink.startsWith("http") && currentLink.includes(currentHostname))) {
        if (currentLink.includes("?")) {
          // If URL already contains a query string, append with '&'
          link.setAttribute('href', currentLink + "&" + queryString.substring(1));
        } else {
          // If URL does not contain a query string, append with '?'
          link.setAttribute('href', currentLink + queryString);
        }
      }
    });
  });
</script>