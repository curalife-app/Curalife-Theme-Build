import"./pubsub-chunk.js";function g(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}typeof window.Shopify>"u"&&(window.Shopify={});Shopify.bind=function(t,e){return function(){return t.apply(e,arguments)}};Shopify.setSelectorByValue=function(t,e){for(var n=0,o=t.options.length;n<o;n++){var i=t.options[n];if(e==i.value||e==i.innerHTML)return t.selectedIndex=n,n}};Shopify.addListener=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)};Shopify.postLink=function(t,e){e=e||{};var n=e.method||"post",o=e.parameters||{},i=document.createElement("form");i.setAttribute("method",n),i.setAttribute("action",t);for(var l in o){var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",l),a.setAttribute("value",o[l]),i.appendChild(a)}document.body.appendChild(i),i.submit(),document.body.removeChild(i)};Shopify.CountryProvinceSelector=function(t,e,n){this.countryEl=document.getElementById(t),this.provinceEl=document.getElementById(e),this.provinceContainer=document.getElementById(n.hideElement||e),Shopify.addListener(this.countryEl,"change",Shopify.bind(this.countryHandler,this)),this.initCountry(),this.initProvince()};Shopify.CountryProvinceSelector.prototype={initCountry:function(){var t=this.countryEl.getAttribute("data-default");Shopify.setSelectorByValue(this.countryEl,t),this.countryHandler()},initProvince:function(){var t=this.provinceEl.getAttribute("data-default");t&&this.provinceEl.options.length>0&&Shopify.setSelectorByValue(this.provinceEl,t)},countryHandler:function(t){var e=this.countryEl.options[this.countryEl.selectedIndex],n=e.getAttribute("data-provinces"),o=JSON.parse(n);if(this.clearOptions(this.provinceEl),o&&o.length==0)this.provinceContainer.style.display="none";else{for(var i=0;i<o.length;i++){var e=document.createElement("option");e.value=o[i][0],e.innerHTML=o[i][1],this.provinceEl.appendChild(e)}this.provinceContainer.style.display=""}},clearOptions:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},setOptions:function(t,e){for(var n=0,o=e.length;n<e.length;n++){var i=document.createElement("option");i.value=e[n],i.innerHTML=e[n],t.appendChild(i)}}};class d extends HTMLElement{constructor(){super(),this.mainDetailsToggle=this.querySelector("details"),this.content=this.mainDetailsToggle.querySelector("summary").nextElementSibling,this.mainDetailsToggle.addEventListener("focusout",this.onFocusOut.bind(this)),this.mainDetailsToggle.addEventListener("toggle",this.onToggle.bind(this))}onFocusOut(){setTimeout(()=>{this.contains(document.activeElement)||this.close()})}onToggle(){this.animations||(this.animations=this.content.getAnimations()),this.mainDetailsToggle.hasAttribute("open")?this.animations.forEach(e=>e.play()):this.animations.forEach(e=>e.cancel())}close(){this.mainDetailsToggle.removeAttribute("open"),this.mainDetailsToggle.querySelector("summary").setAttribute("aria-expanded",!1)}}customElements.define("details-disclosure",d);class u extends d{constructor(){super(),this.header=document.querySelector(".header-wrapper")}onToggle(){this.header&&(this.header.preventHide=this.mainDetailsToggle.open,document.documentElement.style.getPropertyValue("--header-bottom-position-desktop")===""&&document.documentElement.style.setProperty("--header-bottom-position-desktop","".concat(Math.floor(this.header.getBoundingClientRect().bottom),"px")))}}customElements.define("header-menu",u);class h extends HTMLElement{constructor(){super(),this.detailsContainer=this.querySelector("details"),this.summaryToggle=this.querySelector("summary"),this.detailsContainer.addEventListener("keyup",e=>e.code.toUpperCase()==="ESCAPE"&&this.close()),this.summaryToggle.addEventListener("click",this.onSummaryClick.bind(this)),this.querySelector('button[type="button"]').addEventListener("click",this.close.bind(this)),this.summaryToggle.setAttribute("role","button")}isOpen(){return this.detailsContainer.hasAttribute("open")}onSummaryClick(e){e.preventDefault(),e.target.closest("details").hasAttribute("open")?this.close():this.open(e)}onBodyClick(e){(!this.contains(e.target)||e.target.classList.contains("modal-overlay"))&&this.close(!1)}open(e){this.onBodyClickEvent=this.onBodyClickEvent||this.onBodyClick.bind(this),e.target.closest("details").setAttribute("open",!0),document.body.addEventListener("click",this.onBodyClickEvent),document.body.classList.add("overflow-hidden"),trapFocus(this.detailsContainer.querySelector('[tabindex="-1"]'),this.detailsContainer.querySelector('input:not([type="hidden"])'))}close(e=!0){removeTrapFocus(e?this.summaryToggle:null),this.detailsContainer.removeAttribute("open"),document.body.removeEventListener("click",this.onBodyClickEvent),document.body.classList.remove("overflow-hidden")}}customElements.define("details-modal",h);function s(){const t=document.querySelectorAll("product-modal[open]");t&&t.forEach(e=>e.hide())}document.addEventListener("shopify:block:select",function(t){if(s(),!t.target.classList.contains("slideshow__slide"))return;const n=t.target.closest("slideshow-component");n.pause(),setTimeout(function(){n.slider.scrollTo({left:t.target.offsetLeft})},200)});document.addEventListener("shopify:block:deselect",function(t){if(!t.target.classList.contains("slideshow__slide"))return;const n=t.target.closest("slideshow-component");n.autoplayButtonIsSetToPlay&&n.play()});document.addEventListener("shopify:section:load",()=>{s();const t=document.querySelector("[id^=EnableZoomOnHover]");if(t&&t){const e=document.createElement("script");e.src=t.src,t.parentNode.replaceChild(e,t)}});document.addEventListener("shopify:section:reorder",()=>s());document.addEventListener("shopify:section:select",()=>s());document.addEventListener("shopify:section:deselect",()=>s());document.addEventListener("shopify:inspector:activate",()=>s());document.addEventListener("shopify:inspector:deactivate",()=>s());function p(){document.readyState==="complete"?c():window.addEventListener("load",c)}function c(){const t=document.createElement("script");t.src="https://unpkg.com/web-vitals@3/dist/web-vitals.iife.js",t.onload=()=>{window.webVitals&&(window.webVitals.getFCP(r),window.webVitals.getLCP(r),window.webVitals.getFID(r),window.webVitals.getCLS(r),window.webVitals.getTTFB(r),window.webVitals.getINP(r))},document.body.appendChild(t)}function r(t){const e=window.location.href,n=window.location.pathname,o=document.documentElement.getAttribute("data-template")||"unknown",i={name:t.name,value:t.value,rating:t.rating,delta:t.delta,id:t.id,page:{url:e,path:n,template:o},timestamp:new Date().toISOString(),userAgent:navigator.userAgent,shop:window.Shopify?window.Shopify.shop:void 0};m(i)}function m(t){try{const e=JSON.parse(localStorage.getItem("curalife_web_vitals")||"[]");e.push(t);const n=e.slice(-100);localStorage.setItem("curalife_web_vitals",JSON.stringify(n))}catch(e){console.error("Failed to store web vitals locally:",e)}}function y(){p()}function f(){y()}document.addEventListener("DOMContentLoaded",()=>{f()});console.log("üåç Global bundle loaded - Core theme functionality initialized");export{g as __vite_legacy_guard};
